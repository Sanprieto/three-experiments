webpackJsonp([1],[,function(e,n,r){e.exports=r(2)},function(e,n,r){"use strict";function t(e){if(Array.isArray(e)){for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}return Array.from(e)}function o(){function e(e,n,r,o){var a=Array(n).fill().map(function(){var n=e.clone();return n.translate(Object(g.random)(-1e3,1e3),Object(g.random)(0,2e3),Object(g.random)(-1e3,1e3)),n}),i=void 0;e.isBufferGeometry?i=h.a.apply(void 0,t(a)):(i=new d.Geometry,a.forEach(function(e){return i.merge(e)}));var c=new d.Mesh(i,o);c.castShadow=!0,c.receiveShadow=!0,r.add(c)}function n(e){e.children.forEach(function(e){e.geometry&&e.geometry.dispose(),e.parent=null}),e.children.length=0}var r=new d.SphereGeometry(50,16,16),o=new d.BoxGeometry(75,75,75);o.translate(25,25,25);var a=(new d.BufferGeometry).fromGeometry(r).toNonIndexed(),i=(new d.BufferGeometry).fromGeometry(o).toNonIndexed(),c=Object(h.a)(a,i);new d.Mesh(c,E).position.set(-100,100,-100);var s=new d.Geometry;s.merge(o),s.merge(r);var u={amount:100,addMergedBufferGeometries:function(){e(c,this.amount,objects,E)},addMergedGeometries:function(){e(s,this.amount,objects,k)},clearObjects:function(){n(objects)}},l=gui.addFolder("geometries");l.add(objects.children,"length").name("current amount").listen(),l.add(u,"amount",1,5e3,50).name("geometries to merge"),l.add(u,"addMergedBufferGeometries"),l.add(u,"addMergedGeometries"),l.add(u,"clearObjects"),l.open()}function a(){var e=new d.Group;scene.add(e);var n=new Array(10).fill().map(function(){return new d.Vector3(Object(g.random)(-1e3,1e3),Object(g.random)(0,2e3),Object(g.random)(-1e3,1e3))}),r=new d.CatmullRomCurve3(n,!0),o=r.getPoints(3e3),a=(new d.BufferGeometry).setFromPoints(o),i=new d.Line(a,new d.LineBasicMaterial({color:"orange",linewidth:2})),c=new d.TubeGeometry(r,900,4,8,!0),s=new d.Mesh(c,new d.MeshNormalMaterial({wireframe:!0}));e.add(i),e.add(s);var u=Object(f.a)(r.getPointAt(0));e.add(u);var l={position:0,timePerLoop:30,enabled:!0,cameraTracking:!0,applyTrackingOffset:"matrix",cameraLookAt:!0,cubeEmissiveColor:{r:0,g:0,b:0}},m=function(e){l.position=e,u.position.copy(r.getPointAt(e));var n=r.getPointAt((e+1e-4)%1);u.lookAt(n)},w=function(e){var n=r.getPointAt(e).clone(),t=new d.Vector3(-100,150,-100),o=n.add(t);if("matrix"==l.applyTrackingOffset&&o.applyMatrix4(u.matrixWorld),"quaternion"==l.applyTrackingOffset&&o.applyQuaternion(u.getWorldQuaternion()),"lerp"==l.applyTrackingOffset){var a=o.clone().applyMatrix4(u.matrixWorld),i=o.clone().applyQuaternion(u.getWorldQuaternion());o.copy(a.lerp(i,.5))}camera.position.copy(o),controls.update()};window.cubeMovementMixer=new p.a(function(e){l.enabled&&m(e),l.cameraTracking&&w(e),l.cameraLookAt&&camera.lookAt(u.position)},30,1/0);var h=gui.addFolder("cube motion");h.open(),h.add(l,"position",0,.9999,.001).onChange(function(e){m(e)}).listen(),h.add(l,"timePerLoop",0,60,.5).onChange(function(e){cubeMovementMixer.setDuration(e)}),h.add(l,"enabled").onChange(function(){cubeMovementMixer.pause()}),h.add(l,"cameraTracking"),h.add(l,"cameraLookAt"),h.add(l,"applyTrackingOffset",["none","matrix","quaternion","lerp"]),h.add(s,"visible").name("view railway"),h.add(i,"visible").name("view railway core"),h.addColor(l,"cubeEmissiveColor").name("cube color").onChange(function(e){u.material.emissive=new(Function.prototype.bind.apply(d.Color,[null].concat(t(Object.values(e).map(function(e){return e/255})))))}),h.add(u.material,"shininess",0,300,5),y.push(cubeMovementMixer)}function i(){v.begin(),requestAnimationFrame(i);var e=b.getDelta();y.forEach(function(n){return n.update(e)}),renderer.render(scene,camera),A.followCamera&&O.children.forEach(function(e){e.lookAt(camera.position)}),v.end()}Object.defineProperty(n,"__esModule",{value:!0});var d=r(0),c=r(3),s=r.n(c),u=r(4),l=r.n(u),m=r(5),f=r(6),w=r(7),p=r(8),h=r(9),g=r(10);r.n(g);window.THREE=d,window.gui=new m.a.GUI({closeOnTop:!0,hideable:!1,width:350});var v=new l.a;document.body.appendChild(v.dom);var b=new d.Clock;window.scene=new d.Scene;var y=[];window.camera=new d.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e4),camera.position.set(2500,4100,2300),window.renderer=new d.WebGLRenderer({antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight),renderer.shadowMap.enabled=!0,document.body.appendChild(renderer.domElement),document.body.style.margin=0;var M=new d.Vector3(0,-100,0);Object(w.a)(2e3,20,M,scene),window.controls=new s.a(camera,renderer.domElement),controls.target.set(-200,0,-200),controls.enableKeys=!1,controls.autoUpdate=!1;var x=new d.HemisphereLight("white","black");scene.add(x);var G=new d.PointLight("red",5,1e4);G.castShadow=!0,scene.add(G);var j=document.querySelector("textarea"),A={height:100,line:120,showBoxes:!1,followCamera:!0},C=gui.addFolder("text");C.add(A,"height",50,200),C.add(A,"line",50,200),C.add(A,"showBoxes"),C.add(A,"followCamera");var O=new d.Group;O.name="texts",scene.add(O),window.objects=new d.Group,objects.name="objects",scene.add(objects);var k=new d.MeshPhongMaterial({color:"orange"}),E=new d.MeshPhongMaterial({color:"green"});gui.add({geometries:o},"geometries").onChange(function(){this.remove()}),gui.add({rollerCoaster:a},"rollerCoaster").onChange(function(){this.remove()}),(new d.FontLoader).load("./assets/fonts/Luis2_Medium.json",function(e){var n=Object(g.debounce)(function(n){O.traverse(function(e){e.isMesh&&e.geometry.dispose()}),O.children.length=0;var r=n.target.value.split(/\n/);r.forEach(function(n,t){var o=new d.TextGeometry(n,{font:e,size:A.height,height:5,bevelEnabled:!0,bevelThickness:5,bevelSize:3});o.center();var a=new d.Mesh(o,k);if(a.name=n,A.showBoxes){var i=new d.BoxHelper(a);a.add(i)}a.position.set(0,-A.line*t,0),O.add(a),O.position.set(0,(r.length-1)*A.line/2,0)})},500);j.addEventListener("input",n,!1)}),window.addEventListener("resize",function(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}),i(),document.addEventListener("DOMContentLoaded",function(){document.querySelector("textarea").focus()})},,,,function(e,n,r){"use strict";function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments[2],t=new o.BoxGeometry(n,n,n),a=new o.MeshPhongMaterial({color:r||Math.floor(16777215*Math.random()),transparent:!0,opacity:.9,wireframe:!0}),i=new o.Mesh(t,a);return i.position.copy(e),i}var o=r(0);n.a=t},function(e,n,r){"use strict";function t(e,n,r,t){var a=new o.GridHelper(e,n,"orange","blue");a.position.copy(r),a.material.opacity=.5,a.material.transparent=!0,t.add(a);var i=new o.PolarGridHelper(e/2,8,n/2,64,"green","red");i.position.copy(r),i.material.opacity=.5,i.material.transparent=!0,t.add(i)}var o=r(0);n.a=t},function(e,n,r){"use strict";n.a=function(e,n,r){var t=0,o=!0;return{update:function(a){!n>0||!o||(t+=a,e(t/n%1),t>=n*r&&(this.update=function(){}))},setDuration:function(e){n=e},setRepetitions:function(e){r=e},pause:function(){o=!o}}}},function(e,n,r){"use strict";function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=new o.BufferGeometry,i={};return["position","normal","uv"].forEach(function(e){var r=n.reduce(function(n,r){var t=r.getAttribute(e);return n+t.count*t.itemSize},0);i[e]=new Float32Array(r),n.reduce(function(n,r){var t=r.getAttribute(e).array;return t.forEach(function(r,t){i[e][n+t]=r}),n+t.length},0),t.addAttribute(e,new o.BufferAttribute(i[e],a[e]))}),t}var o=r(0),a={position:3,normal:3,uv:2};n.a=t}],[1]);